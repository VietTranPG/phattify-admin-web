<div class="card card--form card--user-info">
  <div class="container">
    <div class="heading-custom">User Detail</div>
    <form class="form" [formGroup]="clientInfoForm">
      <div class="row">
        <div class="col-md-6">
          <label>Name</label>
          <div class="row">
            <div class="col-md-6">
              <input class="form-control" placeholder="First Name" formControlName="FirstName" />
              <p class="error-text" *ngIf="clientInfoForm.controls.FirstName.touched && !clientInfoForm.controls.FirstName.valid">This
                field is required.</p>
            </div>
            <div class="col-md-6">
              <input class="form-control" placeholder="Last Name" formControlName="SurName" />
              <p class="error-text" *ngIf="clientInfoForm.controls.SurName.touched && !clientInfoForm.controls.SurName.valid">This
                field is required.</p>
            </div>
          </div>

          <label>Email</label>
          <div class="row">
            <div class="col-md-12">
              <input class="form-control" formControlName="email" />
            </div>
          </div>
          <div class="row">
            <div class="col-md-12"><button class="btn btn-warning btn--form" (click)="showModalChangePassword()">Change
                password</button></div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Gender</label>
              <select class="form-control" formControlName="Gender">
                <option [ngValue]="false">Male</option>
                <option [ngValue]="true">Female</option>
                <option [ngValue]="null">Other</option>
              </select>
            </div>
            <div class="col-md-6">
              <label>Date of Birth</label>
              <input class="form-control" type="date" formControlName="DateOfBirth" />
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Country</label>
              <input class="form-control" type="text" formControlName="CountryName" />
            </div>
            <div class="col-md-6">
              <label>City/Town</label>
              <input class="form-control" type="text" formControlName="City" />
            </div>
          </div>
          <label>Health List</label>
          <div class="row">
            <div class="col-md-12">
              <div class="form-control--custom">
                <ul class="list-group list-group-flush" *ngFor="let healthList of healthList; let i = index">
                  <li class="list-group-item disabled">{{healthList.Name}}</li>
                </ul>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item disabled" *ngIf="clientInfo.OtherIllnesses">OtherIllnesses: {{clientInfo.OtherIllnesses}}</li>
                  <li class="list-group-item disabled" *ngIf="clientInfo.Allergies">Allergies: {{clientInfo.Allergies}}</li>
                  <li class="list-group-item disabled" *ngIf="clientInfo.HealthMedication">HealthMedication: {{clientInfo.HealthMedication}}</li>
                </ul>
              </div>             
            </div>
          </div>
          <label>Status</label>
          <div class="row">
            <div class="col-md-9">
              <select formControlName="Status" class="form-control">
                <option value="active">Active</option>
                <option value="deactive">Inactivate</option>
                <option value="pending">Invite pending</option>
              </select>
            </div>
            <div class="col-md-3">
              <button [class]="checkResendCode?'btn btn-secondary btn--form':'btn btn-warning btn--form'" [disabled]="checkResendCode" (click)="resendCode()">Resend</button>
            </div>
          </div>
          <label>Mentor</label>

          <div class="row" *ngIf="!clientInfo.MentorEmail">
            <div class="col-md-9">
              <ng-select class="select-custom" [options]="listMentor" formControlName="mentor" placeholder="select Mentor"></ng-select>
            </div>
            <div class="col-md-3">
              <button class="btn btn-warning btn--form" (click)='showModalAssign()'>Assign</button>
            </div>
          </div>
          <div class="row" *ngIf="clientInfo.MentorEmail">
            <div class="col-md-12">
              <input class="form-control" formControlName="mentor" disabled />
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="row row--center">
            <div class="title">Current Round information</div>
            <button class="btn btn-warning btn--form" (click)="confirmDelete('wipeData')">Wipe Data</button>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Start Date</label>
              <div class="row">
                <div class="col-md-12">
                  <input class="form-control" type="date" formControlName="StartDate" />
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <label>End Date</label>
              <div class="row">
                <div class="col-md-12">
                  <input class="form-control" type="date" formControlName="EndDate" />
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label>Start Weight</label>
              <div class="row">
                <div class="col-md-12">
                  <input class="form-control" type="text" placeholder="0" formControlName="StartWeight" />
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <label>Current Weight</label>
              <div class="row">
                <div class="col-md-12">
                  <input class="form-control" type="text" placeholder="0" formControlName="CurrentWeight" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row row--flex-end">
        <button class="btn btn-success" type="submit" [disabled]="!clientInfoForm.valid">Save</button>
        <button class="btn btn-danger" (click)='confirmDelete("delete")'>Delete</button>
      </div>
    </form>
  </div>
</div>
<!-- modal change password-->
<app-modal-basic #modalChangePassword>
  <div class="app-modal-header">
    <h4 class="modal-title">Change password</h4>
    <button type="button" class="btn btn-warning btn--form" (click)="modalChangePassword.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <div class="container">
      <form class="form" [formGroup]="changePasswordForm">
        <div class="row">
          <div class="col-md-6">
            <label>New password: </label>
            <input type="password" formControlName="password">
            <p class="error-text" *ngIf="changePasswordForm.controls.password?.invalid && changePasswordForm.controls.password?.touched">This
              field is required.</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label>Confirm new password: </label>
            <input type="password" formControlName="confirmPassword">
            <p class="error-text" *ngIf="changePasswordForm.controls.confirmPassword?.invalid && changePasswordForm.controls.password?.touched">This
              Passwords do not match.</p>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="app-modal-footer">
    <button type="button" class="btn btn-default ripple" (click)="modalChangePassword.hide()">Close</button>
    <button type="button" class="btn btn-danger ripple light" (click)="changePassword()" [disabled]='changePasswordForm.invalid'>Confirm</button>
  </div>
</app-modal-basic>
<toast #toast></toast>
<!-- modal delete-->
<app-modal-basic #modalDelete>
  <div class="app-modal-header">
    <h4 class="modal-title">Confirm</h4>
    <button type="button" class="close basic-close" (click)="hideDelete()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body" *ngIf="checkShowDelete">
    <p>{{clientInfo?.Email}}</p>
    <p>All data of this client will be deleted. Are you sure you want to delete this client?</p>
  </div>
  <div class="app-modal-body" *ngIf="checkShowWipeData">
    <p>{{clientInfo?.Email}}</p>
    <p>All data of this round will be deleted. Are you sure you want to delete this round?</p>
  </div>
  <div class="app-modal-footer">
    <button type="button" class="btn btn-default ripple" (click)="hideDelete()">Close</button>
    <button type="button" class="btn btn-danger ripple light" *ngIf="checkShowDelete" (click)="delete()">Delete</button>
    <button type="button" class="btn btn-danger ripple light" *ngIf="checkShowWipeData" (click)="deleteRound()">Delete</button>
  </div>
</app-modal-basic>
<!-- modal assign mentor-->
<app-modal-basic #modalAssign>
  <div class="app-modal-header">
    <h4 class="modal-title">Confirm</h4>
    <button type="button" class="close basic-close" (click)="modalAssign.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="app-modal-body">
    <p>{{clientInfo?.Email}}</p>
    <p>Are you sure to assign mentee {{clientInfo?.Email}} to mentor {{mentorEmail?.label}} ?</p>
  </div>
  <div class="app-modal-footer">
    <button type="button" class="btn btn-default ripple" (click)="modalAssign.hide()">Cancel </button>
    <button type="button" class="btn btn-danger ripple light" (click)="assignMentor()">Confirm</button>
  </div>
</app-modal-basic>